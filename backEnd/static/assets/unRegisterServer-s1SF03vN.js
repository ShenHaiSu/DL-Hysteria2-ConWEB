import{h as w,G as C,n as D,a as d,k as l,b as r,t as u,v as p,f as o,d as v,w as S,J as h,K as k,S as B,V as T}from"./index-DQ9WfSge.js";import{u as b}from"./hy2Server-RtdGYZHy.js";const n=s=>(B("data-v-de9c574c"),s=s(),T(),s),E={UnRegisterServerBase:""},U=n(()=>r("h2",null,"IP地址",-1)),V=n(()=>r("h2",null,"请求次数",-1)),$=n(()=>r("h2",{style:{color:"red"}},"错误次数",-1)),H=n(()=>r("h2",null,"操作",-1)),N={UnAuthServerActionBase:""},A={__name:"unRegisterServer",props:["targetServer","targetIndex"],setup(s){const t=s,i=b(),a=C(),m=()=>Object.values(t.targetServer.error).reduce((e,_)=>e+_,0),f=()=>{let e="";return e+=`方法错误：${t.targetServer.error.method}
`,e+=`请求体错误：${t.targetServer.error.body}
`,e},x=()=>{let e="";return e+=`首次请求：${new Date(t.targetServer.firstConnect).toLocaleString()}
`,e+=`最近请求：${new Date(t.targetServer.lastConnect).toLocaleString()}
`,e},y=()=>{h.post("/hy2ServerInfo/deleteServer",{target:t.targetServer.address}).then(e=>{a.add({severity:"success",summary:"删除成功",detail:"该服务器记录已删除",life:1e3})}).catch(e=>{a.add({severity:"error",summary:"删除失败",detail:"请检查网络连接或联系管理员",life:3e3})})},I=()=>{h.post("/hy2ServerInfo/clearServer",{target:t.targetServer.address}).then(e=>{a.add({severity:"success",summary:"清空成功",detail:"该服务器的统计数据已清空",life:1e3})}).catch(e=>{a.add({severity:"error",summary:"清空失败",detail:"请检查网络连接或联系管理员",life:3e3})})},R=()=>{i.editDialogShow=!0,i.editDialogMode="unregister-register",i.editIndex=t.targetIndex};return(e,_)=>{const c=k,g=D("tooltip");return d(),l("div",E,[r("div",null,[U,r("p",null,u(t.targetServer.address),1)]),r("div",null,[V,p((d(),l("p",null,[o(u(t.targetServer.connectCount),1)])),[[g,{value:x(),autoHide:!1},void 0,{bottom:!0}]])]),r("div",null,[$,p((d(),l("p",null,[o(u(m()),1)])),[[g,{value:f(),autoHide:!1},void 0,{bottom:!0}]])]),r("div",null,[H,r("div",N,[v(c,{onClick:y},{default:S(()=>[o("删除")]),_:1}),v(c,{onClick:I},{default:S(()=>[o("清空")]),_:1}),v(c,{onClick:R},{default:S(()=>[o("认证")]),_:1})])])])}}},j=w(A,[["__scopeId","data-v-de9c574c"]]);export{j as default};
