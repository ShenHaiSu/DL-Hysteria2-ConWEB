import{h as f,G as m,a as y,k as h,b as d,d as n,w as i,f as l,e as S,J as u,K as g,S as I,V as B}from"./index-zLBKAhNj.js";import{u as k}from"./hy2Server-CvyGRMCY.js";const v=o=>(I("data-v-8acf1ad9"),o=o(),B(),o),w={registerServerResetBase:""},R=v(()=>d("p",null,"重置服务器已用流量",-1)),C=v(()=>d("p",null,"重置服务器所有累计记录",-1)),D={style:{"justify-content":"center"}},V={__name:"registerServerReset",setup(o){const t=k(),c=m(),_=()=>{const a=t.registeredList[t.editIndex].address;u.post("/hy2ServerInfo/clearServerBandwidth",{target:a}).then(e=>{c.add({severity:"success",summary:"成功",detail:`${a} 服务器的已使用流量已完成归零`,life:1e3}),t.clsoeDialog(!0)}).catch(e=>{var s,r;c.add({severity:"error",summary:"错误",detail:((r=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:r.msg)||"重置失败",life:3e3})})},p=()=>{const a=t.registeredList[t.editIndex].address;u.post("/hy2ServerInfo/clearServer",{target:a}).then(e=>{c.add({severity:"success",summary:"成功",detail:`${a} 服务器的所有累计信息完成归零`,life:1e3}),t.clsoeDialog(!0)}).catch(e=>{var s,r;c.add({severity:"error",summary:"错误",detail:((r=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:r.msg)||"重置失败",life:3e3})})};return(a,e)=>{const s=g;return y(),h("div",w,[d("div",null,[n(s,{onClick:_,severity:"secondary",size:"small"},{default:i(()=>[l("重置")]),_:1}),R]),d("div",null,[n(s,{onClick:p,severity:"secondary",size:"small"},{default:i(()=>[l("重置")]),_:1}),C]),d("div",D,[n(s,{onClick:e[0]||(e[0]=r=>S(t).clsoeDialog(!1))},{default:i(()=>[l("取消重置")]),_:1})])])}}},$=f(V,[["__scopeId","data-v-8acf1ad9"]]);export{$ as default};
