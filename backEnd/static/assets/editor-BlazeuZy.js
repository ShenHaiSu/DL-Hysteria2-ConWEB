const __vite__fileDeps=["assets/index-FWuTaJfw.js","assets/index-BFuLBRmA.js","assets/index-DBz_WDjk.css","assets/index-tiW1S4Z_.js","assets/index-D94Fsmh_.js","assets/index-vespvUkj.js","assets/index-DjUbOoyE.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{h as T,H as h,G as B,j as E,L as M,a as v,c as U,w as l,e as d,k as w,b as o,d as t,f as u,x as g,a2 as j,g as S,_ as V,J as k,N as z,K as O,P as R,Q as W}from"./index-BFuLBRmA.js";import $ from"./index-3R2yRj1d.js";import{m as C}from"./md5-B0f4dnXe.js";import{u as F}from"./AccountConf-DXni_WQE.js";const c=m=>(R("data-v-8a20be18"),m=m(),W(),m),G={key:0},H={CreateNewAccountInputDiv:""},J=c(()=>o("label",null,"账户名",-1)),Q=c(()=>o("label",null,"密码",-1)),q=c(()=>o("label",null,"管理员秘钥",-1)),X=c(()=>o("br",null,null,-1)),Y={style:{display:"flex","justify-content":"center"}},Z={key:1},ee=c(()=>o("div",null,[o("div")],-1)),te={style:{display:"flex","justify-content":"center","margin-top":"20px"}},se={key:2},oe=c(()=>o("div",null,[o("p",null,"删除后该账号的使用者无法在通过此hy2Key进行连接代理。")],-1)),ae={style:{display:"flex","justify-content":"center","margin-top":"20px"}},le={__name:"editor",setup(m){const e=F(),P=S(()=>V(()=>import("./index-FWuTaJfw.js"),__vite__mapDeps([0,1,2,3,4,5]))),y=S(()=>V(()=>import("./index-DjUbOoyE.js"),__vite__mapDeps([6,1,2]))),I=h({maxWidth:"50vw",minWidth:"350px"}),_=B(),s=h({userName:"",userPassword:"",adminKey:""}),b=h({}),D=()=>C(C(s.value.userPassword+"DAOLUOLTS").toString()),K=E(()=>{switch(e.editorMode){case"add":return"添加新账号";case"edit":return"编辑账号信息";case"delete":return"确定删除该账号信息吗？";default:return e.editorShow=!1,"null"}});M(()=>e.targetIndex,r=>{b.value=e.accountList.value[r]});const x=()=>{e.editorShow=!1,e.targetIndex=-1},N=()=>{k.post("/auth/delete",{userName:e.accountList.value[e.targetIndex].userName}).then(r=>{_.add({severity:"success",summary:"完成",detail:r.data.msg,life:1e3})}).then(()=>{e.editorMode="done"}).catch(r=>{_.add({severity:"error",summary:"错误",detail:r.response.data.msg,life:1e3})})},L=()=>{s.value={userName:"",userPassword:"",adminKey:""},e.editorShow=!1},A=()=>{const r=s.value.userPassword.length?D():"noLogin";k.post("/auth/register",{userName:s.value.userName,userPassword:r,adminKey:s.value.adminKey,manual:!0}).then(a=>{_.add({severity:"success",summary:"成功",detail:"完成创建",life:1e3}),s.value={userName:"",userPassword:"",adminKey:""},e.editorShow=!1,e.editorMode="done"}).catch(a=>{_.add({severity:"error",summary:"错误",detail:a.response.data.msg,life:2e3})})};return(r,a)=>{const f=z,i=O,p=$;return v(),U(d(P),{visible:d(e).editorShow,"onUpdate:visible":a[3]||(a[3]=n=>d(e).editorShow=n),header:K.value,style:j(I.value)},{default:l(()=>[d(e).editorMode=="add"?(v(),w("div",G,[o("div",H,[t(d(y),null,{default:l(()=>[t(f,{size:"small",modelValue:s.value.userName,"onUpdate:modelValue":a[0]||(a[0]=n=>s.value.userName=n),placeholder:"必填"},null,8,["modelValue"]),J]),_:1}),t(d(y),null,{default:l(()=>[t(f,{size:"small",type:"password",modelValue:s.value.userPassword,"onUpdate:modelValue":a[1]||(a[1]=n=>s.value.userPassword=n),placeholder:"选填,不填写代表该用户不可登陆面板."},null,8,["modelValue"]),Q]),_:1}),t(d(y),null,{default:l(()=>[t(f,{size:"small",modelValue:s.value.adminKey,"onUpdate:modelValue":a[2]||(a[2]=n=>s.value.adminKey=n),placeholder:"选填"},null,8,["modelValue"]),q]),_:1})]),X,o("div",Y,[t(i,{onClick:L,severity:"secondary"},{default:l(()=>[u("取消")]),_:1}),t(p,{layout:"vertical"}),t(i,{onClick:A},{default:l(()=>[u("注册")]),_:1})])])):g("",!0),d(e).editorMode=="edit"?(v(),w("div",Z,[ee,t(p),o("div",te,[t(i,{onClick:x,severity:"secondary"},{default:l(()=>[u("取消")]),_:1}),t(p,{layout:"vertical"}),t(i,{onClick:N,severity:"success"},{default:l(()=>[u("确定")]),_:1})])])):g("",!0),d(e).editorMode=="delete"?(v(),w("div",se,[oe,o("div",ae,[t(i,{onClick:x,severity:"secondary"},{default:l(()=>[u("取消")]),_:1}),t(p,{layout:"vertical"}),t(i,{onClick:N,severity:"danger"},{default:l(()=>[u("确定")]),_:1})])])):g("",!0)]),_:1},8,["visible","header","style"])}}},ue=T(le,[["__scopeId","data-v-8a20be18"]]);export{ue as default};
