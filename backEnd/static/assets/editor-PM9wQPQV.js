const __vite__fileDeps=["assets/index-Dc-CnuY7.js","assets/index-D39o__6r.js","assets/index-DBz_WDjk.css","assets/index-DihNHVrp.js","assets/index-DVJjnAxe.js","assets/index-DeV7H6EB.js","assets/index-B0CuSNis.js","assets/accountEdit-Jtv51jTG.js","assets/index-HuYbfy90.js","assets/AccountConf-B-VDcq6c.js","assets/AccountConf-BSe1nQ2k.css","assets/hy2Server-BNuU1OBG.js","assets/auth-DT08vQmu.js","assets/tools-DS0odpU0.js","assets/accountEdit-ZMeNTRM8.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{h as T,H as f,G as M,j as B,L as O,a as _,c as U,w as r,e as t,k as h,b as d,d as a,f as p,x as w,t as z,a2 as R,g,_ as x,J as N,N as j,K as W,P as $,Q as F}from"./index-D39o__6r.js";import G from"./index-CB2wB60k.js";import{m as S}from"./md5-B0f4dnXe.js";import{u as H}from"./AccountConf-B-VDcq6c.js";const i=u=>($("data-v-ad172afd"),u=u(),F(),u),J={key:0},Q={CreateNewAccountInputDiv:""},q=i(()=>d("label",null,"账户名",-1)),X=i(()=>d("label",null,"密码",-1)),Y=i(()=>d("label",null,"管理员秘钥",-1)),Z=i(()=>d("br",null,null,-1)),ee={style:{display:"flex","justify-content":"center"}},te={key:1},ae={key:2},oe=i(()=>d("p",null,"删除后该账号的使用者无法在通过此hy2Key进行连接代理。",-1)),se={style:{display:"flex","justify-content":"center","margin-top":"20px"}},de={__name:"editor",setup(u){const V=g(()=>x(()=>import("./index-Dc-CnuY7.js"),__vite__mapDeps([0,1,2,3,4,5]))),v=g(()=>x(()=>import("./index-B0CuSNis.js"),__vite__mapDeps([6,1,2]))),P=g(()=>x(()=>import("./accountEdit-Jtv51jTG.js"),__vite__mapDeps([7,1,2,8,9,10,11,12,13,14]))),e=H(),k=f({maxWidth:"50vw",minWidth:"500px"}),c=M(),o=f({userName:"",userPassword:"",adminKey:""}),C=f({}),D=()=>S(S(o.value.userPassword+"DAOLUOLTS").toString()),L=B(()=>{switch(e.editorMode){case"add":return"添加新账号";case"edit":return"编辑账号信息";case"delete":return"确定删除该账号信息吗？";default:return e.editorShow=!1,"null"}});O(()=>e.targetIndex,l=>{C.value=e.accountList.value[l]});const b=()=>{e.editorShow=!1,e.targetIndex=-1},A=()=>{N.post("/auth/delete",{userName:e.accountList.value[e.targetIndex].userName}).then(l=>{c.add({severity:"success",summary:"完成",detail:l.data.msg,life:1e3})}).then(()=>{e.editorMode="done"}).catch(l=>{c.add({severity:"error",summary:"错误",detail:l.response.data.msg,life:1e3})})},E=()=>{o.value={userName:"",userPassword:"",adminKey:""},e.editorShow=!1},K=()=>{const l=o.value.userPassword.length?D():"noLogin";N.post("/auth/register",{userName:o.value.userName,userPassword:l,adminKey:o.value.adminKey,manual:!0}).then(s=>{c.add({severity:"success",summary:"成功",detail:"完成创建",life:1e3}),o.value={userName:"",userPassword:"",adminKey:""},e.editorShow=!1,e.editorMode="done"}).catch(s=>{c.add({severity:"error",summary:"错误",detail:s.response.data.msg,life:2e3})})};return(l,s)=>{const y=j,m=W,I=G;return _(),U(t(V),{visible:t(e).editorShow,"onUpdate:visible":s[3]||(s[3]=n=>t(e).editorShow=n),header:L.value,style:R(k.value)},{default:r(()=>[t(e).editorMode=="add"?(_(),h("div",J,[d("div",Q,[a(t(v),null,{default:r(()=>[a(y,{size:"small",modelValue:o.value.userName,"onUpdate:modelValue":s[0]||(s[0]=n=>o.value.userName=n),placeholder:"必填"},null,8,["modelValue"]),q]),_:1}),a(t(v),null,{default:r(()=>[a(y,{size:"small",type:"password",modelValue:o.value.userPassword,"onUpdate:modelValue":s[1]||(s[1]=n=>o.value.userPassword=n),placeholder:"选填,不填写代表该用户不可登陆面板."},null,8,["modelValue"]),X]),_:1}),a(t(v),null,{default:r(()=>[a(y,{size:"small",modelValue:o.value.adminKey,"onUpdate:modelValue":s[2]||(s[2]=n=>o.value.adminKey=n),placeholder:"选填"},null,8,["modelValue"]),Y]),_:1})]),Z,d("div",ee,[a(m,{onClick:E,severity:"secondary"},{default:r(()=>[p("取消")]),_:1}),a(I,{layout:"vertical"}),a(m,{onClick:K},{default:r(()=>[p("注册")]),_:1})])])):w("",!0),t(e).editorMode=="edit"?(_(),h("div",te,[a(t(P),{targetIndex:t(e).targetIndex},null,8,["targetIndex"])])):w("",!0),t(e).editorMode=="delete"?(_(),h("div",ae,[d("div",null,[d("p",null,"操作目标："+z(t(e).accountList.value[t(e).targetIndex].userName),1),oe]),d("div",se,[a(m,{onClick:b,severity:"secondary"},{default:r(()=>[p("取消")]),_:1}),a(I,{layout:"vertical"}),a(m,{onClick:A,severity:"danger"},{default:r(()=>[p("确定")]),_:1})])])):w("",!0)]),_:1},8,["visible","header","style"])}}},ue=T(de,[["__scopeId","data-v-ad172afd"]]);export{ue as default};
