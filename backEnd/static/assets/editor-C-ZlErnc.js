const __vite__fileDeps=["assets/index-D2PrSE-8.js","assets/index-RLiYeSVa.js","assets/index-DBz_WDjk.css","assets/index-GxXhePFS.js","assets/index-CoIiSMPl.js","assets/index-C9ktwkxZ.js","assets/index-rR4Afz6Y.js","assets/accountEdit-CZcEOt1l.js","assets/index-BuMFAEmP.js","assets/AccountConf-CFtWl7ST.js","assets/AccountConf-BSe1nQ2k.css","assets/hy2Server-JsOFiE1I.js","assets/auth-Bef3KxsT.js","assets/tools-DS0odpU0.js","assets/accountEdit-C80K3VOE.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{h as M,H as f,G as T,j as B,M as O,a as _,c as U,w as r,e as t,k as h,b as l,d as a,f as p,x as w,t as z,a3 as R,g,_ as x,J as S,Q as j,K as W,S as $,V as F}from"./index-RLiYeSVa.js";import G from"./index-ClrNYZHL.js";import{m as V}from"./md5-B0f4dnXe.js";import{u as H}from"./AccountConf-CFtWl7ST.js";const i=u=>($("data-v-25f4dbe1"),u=u(),F(),u),J={key:0},Q={CreateNewAccountInputDiv:""},q=i(()=>l("label",null,"账户名",-1)),X=i(()=>l("label",null,"密码",-1)),Y=i(()=>l("label",null,"管理员秘钥",-1)),Z=i(()=>l("br",null,null,-1)),ee={style:{display:"flex","justify-content":"center"}},te={key:1},ae={key:2},oe=i(()=>l("p",null,"删除后该账号的使用者无法在通过此hy2Key进行连接代理。",-1)),se={style:{display:"flex","justify-content":"center","margin-top":"20px"}},le={__name:"editor",setup(u){const N=g(()=>x(()=>import("./index-D2PrSE-8.js"),__vite__mapDeps([0,1,2,3,4,5]))),v=g(()=>x(()=>import("./index-rR4Afz6Y.js"),__vite__mapDeps([6,1,2]))),P=g(()=>x(()=>import("./accountEdit-CZcEOt1l.js"),__vite__mapDeps([7,1,2,8,9,10,11,12,13,14]))),e=H(),k=f({maxWidth:"70vw",minWidth:"500px"}),c=T(),o=f({userName:"",userPassword:"",adminKey:""}),C=f({}),b=()=>V(V(o.value.userPassword+"DAOLUOLTS").toString()),D=B(()=>{switch(e.editorMode){case"add":return"添加新账号";case"edit":return"编辑账号信息";case"delete":return"确定删除该账号信息吗？";default:return e.editorShow=!1,"null"}});O(()=>e.targetIndex,d=>{C.value=e.accountList.value[d]});const L=()=>{e.editorShow=!1,e.targetIndex=-1},A=()=>{S.post("/auth/delete",{userName:e.accountList.value[e.targetIndex].userName}).then(d=>{c.add({severity:"success",summary:"完成",detail:d.data.msg,life:1e3})}).then(()=>{e.editorMode="done"}).catch(d=>{c.add({severity:"error",summary:"错误",detail:d.response.data.msg,life:1e3})})},E=()=>{o.value={userName:"",userPassword:"",adminKey:""},e.editorShow=!1},K=()=>{const d=o.value.userPassword.length?b():"noLogin";S.post("/auth/register",{userName:o.value.userName,userPassword:d,adminKey:o.value.adminKey,manual:!0}).then(s=>{c.add({severity:"success",summary:"成功",detail:"完成创建",life:1e3}),o.value={userName:"",userPassword:"",adminKey:""},e.editorShow=!1,e.editorMode="done"}).catch(s=>{c.add({severity:"error",summary:"错误",detail:s.response.data.msg,life:2e3})})};return(d,s)=>{const y=j,m=W,I=G;return _(),U(t(N),{visible:t(e).editorShow,"onUpdate:visible":s[3]||(s[3]=n=>t(e).editorShow=n),header:D.value,style:R(k.value)},{default:r(()=>[t(e).editorMode=="add"?(_(),h("div",J,[l("div",Q,[a(t(v),null,{default:r(()=>[a(y,{size:"small",modelValue:o.value.userName,"onUpdate:modelValue":s[0]||(s[0]=n=>o.value.userName=n),placeholder:"必填"},null,8,["modelValue"]),q]),_:1}),a(t(v),null,{default:r(()=>[a(y,{size:"small",type:"password",modelValue:o.value.userPassword,"onUpdate:modelValue":s[1]||(s[1]=n=>o.value.userPassword=n),placeholder:"选填,不填写代表该用户不可登陆面板."},null,8,["modelValue"]),X]),_:1}),a(t(v),null,{default:r(()=>[a(y,{size:"small",modelValue:o.value.adminKey,"onUpdate:modelValue":s[2]||(s[2]=n=>o.value.adminKey=n),placeholder:"选填"},null,8,["modelValue"]),Y]),_:1})]),Z,l("div",ee,[a(m,{onClick:E,severity:"secondary"},{default:r(()=>[p("取消")]),_:1}),a(I,{layout:"vertical"}),a(m,{onClick:K},{default:r(()=>[p("注册")]),_:1})])])):w("",!0),t(e).editorMode=="edit"?(_(),h("div",te,[a(t(P),{targetIndex:t(e).targetIndex},null,8,["targetIndex"])])):w("",!0),t(e).editorMode=="delete"?(_(),h("div",ae,[l("div",null,[l("p",null,"操作目标："+z(t(e).accountList.value[t(e).targetIndex].userName),1),oe]),l("div",se,[a(m,{onClick:L,severity:"secondary"},{default:r(()=>[p("取消")]),_:1}),a(I,{layout:"vertical"}),a(m,{onClick:A,severity:"danger"},{default:r(()=>[p("确定")]),_:1})])])):w("",!0)]),_:1},8,["visible","header","style"])}}},ue=M(le,[["__scopeId","data-v-25f4dbe1"]]);export{ue as default};
